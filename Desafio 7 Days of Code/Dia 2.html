<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <title>Desafio #7 Days of Code - Dia 2 / Explorando Bootstrap</title>
</head>

<body>
    <div class="modal fade" id="_modal">
        <div class="modal-dialog modal-dialog-centered modal-sm">
            <div class="modal-content text-center border-dark border-3">
                <div class="modal-header pb-0 border-0">
                    <button class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="container-fluid">
                    <p id="_mensagem">mensagem</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="container">
        <form class="was-validated" id="perguntas" novalidate>
            <div class="col mb-3">
                <label class="form-label" for="_nome">Nome</label>
                <input class="form-control" name="nome" id="_nome" type="text" required>
                <div class="invalid-feedback">O nome não pode estar vazio</div>
                <div class="valid-feedback">Parece verídico</div>
                <div class="form-text">O nome não pode ser falso</div>
            </div>

            <div class="col mb-3">
                <label class="form-label" for="_idade">Idade</label>
                <input class="form-control" name="idade" type="number" min="1" max="150" id="_idade" required>
                <div class="invalid-feedback">Idade inválida</div>
                <div class="valid-feedback">Muito bem</div>
                <div class="form-text">Idade entre 1 e 150</div>
            </div>

            <div class="col mb-3">
                <label class="form-label" for="_linguagemK">Qual linguagem de programação você está estudando?</label>
                <input type="text" name="linguagem_usada" id="_linguagemK" class="form-control"
                    list="_opcoes_de_linguagens" required>
                <div class="invalid-feedback">Não pode estar vazio</div>
                <datalist id="_opcoes_de_linguagens">
                    <option value="Java Script"></option>
                    <option value="Python"></option>
                    <option value="Java"></option>
                    <option value="C#"></option>
                    <option value="PHP"></option>
                    <option value="Ruby"></option>
                    <option value="Swift"></option>
                    <option value="Go"></option>
                </datalist>
            </div>

            <button class="btn btn-primary">Enviar</button>
        </form>
        <form id="respostas" class="collapse">
            <div class="card border-info w-50 mt-3 m-auto">
                <div class="card-body">
                    <div class="card-title">
                        <label class="form-check-label" id="_gosta_de_estudar"></label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" id="_gosta_de_estudar_sim" type="radio" name="gosta" value="yes"
                            checked>
                        <label class="form-check-label" for="_gosta_de_estudar_sim">Sim</label>
                    </div>
                    <div class="form-check mb-3">
                        <input class="form-check-input" id="_gosta_de_estudar_nao" name="gosta" type="radio" value="no">
                        <label class="form-check-label" for="_gosta_de_estudar_nao">Não</label>
                    </div>
                    <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#_modal">Enviar
                        Resposta</button>
                </div>
            </div>
        </form>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous">
        </script>
    <script>
        var nome, idade, linguagem;

        const $formulario1 = document.getElementById('perguntas');
        $formulario1.collapse = new bootstrap.Collapse($formulario1);
        const $formulario2 = document.getElementById('respostas');
        $formulario2.collapse = new bootstrap.Collapse($formulario2, { toggle: false });
        const $modal = new bootstrap.Modal(document.getElementById('_modal'));
        var $modalText = document.querySelector('.modal-body #_mensagem');

        $formulario1.addEventListener('submit',
            function (event) {
                event.preventDefault();
                event.stopPropagation();
                
                if ($formulario1.checkValidity()) {
                    nome = $formulario1.elements._nome.value;
                    idade = $formulario1.elements._idade.value;
                    linguagem = $formulario1.elements._linguagemK.value;
                    $modalText.innerText = `Olá ${nome}, você tem ${idade} anos e já está aprendendo ${linguagem}!`;
                    $modal.show();
                    $formulario1.collapse.hide();
                    $formulario2.querySelector('#_gosta_de_estudar').innerText = `Você gosta de estudar ${linguagem}?`;
                    $formulario2.collapse.show();
                }
            });
        $formulario2.addEventListener('submit', function (event) {
            event.preventDefault();
            event.stopPropagation();

            if ($formulario2.elements._gosta_de_estudar_sim.checked)
                $modalText.innerText = "Muito bom! Continue estudando e você terá muito sucesso.";
            else
                $modalText.innerText = "Ahh que pena... Já tentou aprender outras linguagens?";
        });
    </script>
</body>

</html>